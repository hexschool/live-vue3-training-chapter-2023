import{a as m}from"./axios-3a76d256.js";import{o as a,c as n,a as e,l as d,m as p,F as h,k as g,t as l,f as u,h as v,d as k,b as x}from"./index-95744fc7.js";const $={"aria-label":"Page navigation example"},f={class:"pagination justify-content-center"},b=e("span",{"aria-hidden":"true"},"«",-1),y=[b],P={key:0,class:"page-link"},w=["onClick"],C=e("span",{"aria-hidden":"true"},"»",-1),N=[C],B={__name:"AdminPagination",props:["pages"],emits:["emitPages"],setup(_,{emit:c}){const s=_,i=r=>{c("emitPages",r)};return(r,o)=>(a(),n("nav",$,[e("ul",f,[e("li",{class:d([{disabled:!s.pages.has_pre},"page-item"])},[e("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:o[0]||(o[0]=p(t=>i(s.pages.current_page-1),["prevent"]))},y)],2),(a(!0),n(h,null,g(s.pages.total_pages,t=>(a(),n("li",{class:d(["page-item",{active:s.pages.current_page===t}]),key:t},[t===s.pages.current_page?(a(),n("span",P,l(t),1)):(a(),n("a",{key:1,class:"page-link",href:"#",onClick:p(z=>i(t),["prevent"])},l(t),9,w))],2))),128)),e("li",{class:d(["page-item",{disabled:!s.pages.has_next}])},[e("a",{class:"page-link",href:"#","aria-label":"Next",onClick:o[1]||(o[1]=p(t=>i(s.pages.current_page+1),["prevent"]))},N)],2)])]))}},V={class:"table mt-4"},A=e("thead",null,[e("tr",null,[e("th",{width:"120"},"分類"),e("th",null,"產品名稱"),e("th",{width:"120"},"原價"),e("th",{width:"120"},"售價"),e("th",{width:"100"},"是否啟用")])],-1),E={class:"text-end"},F={class:"text-end"},M={key:0,class:"text-success"},j={key:1},S={__name:"AdminProducts",setup(_){const c=u([]),s=u({}),i=(r=1)=>{const o=`https://vue3-course-api.hexschool.io/v2/api/hexschoolvue/admin/products?page=${r}`;m.get(o).then(t=>{c.value=t.data.products,s.value=t.data.pagination}).catch(t=>{alert(t.response.data.message)})};return v(()=>{i()}),(r,o)=>(a(),n("div",null,[k(" 這裡是 後台 產品列表 "),e("table",V,[A,e("tbody",null,[(a(!0),n(h,null,g(c.value,t=>(a(),n("tr",{key:t.id},[e("td",null,l(t.category),1),e("td",null,l(t.title),1),e("td",E,l(t.origin_price),1),e("td",F,l(t.price),1),e("td",null,[t.is_enabled?(a(),n("span",M,"啟用")):(a(),n("span",j,"未啟用"))])]))),128))])]),x(B,{pages:s.value,onEmitPages:i},null,8,["pages"])]))}};export{S as default};
